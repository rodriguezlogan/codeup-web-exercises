<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Map</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>



<div class="map" id='map' style='width: 100%; height: 600px;'></div>





<input class="city" placeholder="Enter City Here:">
<button  class="btn btn-primary" id="btn1">Submit</button>


<script src="js/keys.js"></script>
<script src="js/jquery.js"></script>

<script>
    var town = document.querySelector('.city');
    var btn1 = document.getElementById('btn1');
    var long = 0;
    var lat = 0;




    btn1.addEventListener('click', function (){
        var city = town.value;
        $.get("http://api.openweathermap.org/data/2.5/forecast", {
            APPID: OPEN_WEATHER_APPID,
            q:     city+", US",
            units: "imperial"
        }).done(function(data) {
            console.log('5 day forecast', data);
            mapboxgl.accessToken = MAPBOX;
            const map = new mapboxgl.Map({
                container: 'map', // container ID
                style: 'mapbox://styles/mapbox/streets-v12', // style URL
                center: [data.city.coord.lon, data.city.coord.lat], // starting position [lng, lat]
                zoom: 10 // starting zoom
            });
        });

    })



</script>
</body>
</html>